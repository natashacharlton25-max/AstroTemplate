var g=(l,e)=>()=>(e||l((e={exports:{}}).exports,e),e.exports);var h=g((m,o)=>{class c{constructor(){console.log("AccessibilityPanel initializing..."),this.plainTextToggle=document.getElementById("plainTextToggle"),this.plainTextCustomization=document.getElementById("plainTextCustomization"),this.liveRegion=document.getElementById("accessibilityLiveRegion"),this.settings={keyboardHelpers:localStorage.getItem("accessibility-keyboardHelpers")==="true",screenReaderHelpers:localStorage.getItem("accessibility-screenReaderHelpers")==="true",plainTextMode:localStorage.getItem("accessibility-plainTextMode")==="true",darkMode:localStorage.getItem("accessibility-darkMode")==="true",fontSize:parseInt(localStorage.getItem("accessibility-fontSize")||"100"),lineSpacing:parseInt(localStorage.getItem("accessibility-lineSpacing")||"160"),fontFamily:localStorage.getItem("accessibility-fontFamily")||"default",backgroundColor:localStorage.getItem("accessibility-backgroundColor")||"white"},this.init()}init(){this.initializeDarkMode(),this.syncUIWithSettings(),this.applySettings(),document.querySelectorAll("[data-setting]").forEach(i=>{i.type==="checkbox"?i.addEventListener("change",()=>this.handleCheckboxChange(i)):i.type==="range"?i.addEventListener("input",()=>this.handleRangeChange(i)):i.type==="radio"?i.addEventListener("change",()=>this.handleRadioChange(i)):i.tagName==="SELECT"?i.addEventListener("change",()=>this.handleSelectChange(i)):i.tagName==="BUTTON"&&i.addEventListener("click",()=>this.handleButtonClick(i))}),document.addEventListener("keydown",i=>this.handleKeyDown(i)),document.getElementById("resetAccessibilitySettings")?.addEventListener("click",()=>this.resetAllSettings()),document.getElementById("shareAccessibilityTips")?.addEventListener("click",()=>this.shareAccessibilityTips()),document.querySelectorAll("[data-preset]").forEach(i=>{i.addEventListener("click",s=>this.applyPreset(s.target.closest("[data-preset]").dataset.preset))}),this.setupSystemThemeListener(),window.accessibilityPanelInstance=this,console.log("AccessibilityPanel initialized with settings:",this.settings)}initializeDarkMode(){localStorage.getItem("accessibility-darkMode")===null&&(this.settings.darkMode=window.matchMedia("(prefers-color-scheme: dark)").matches),this.updateDarkModeToggleState()}setupSystemThemeListener(){const e=window.matchMedia("(prefers-color-scheme: dark)"),t=window.matchMedia("(prefers-contrast: high)");e.addEventListener("change",i=>{localStorage.getItem("accessibility-darkMode")===null&&(this.settings.darkMode=i.matches,this.applyDarkMode(),this.announceToScreenReader(`Automatically switched to ${i.matches?"dark":"light"} mode`))}),t.addEventListener("change",i=>{this.handleHighContrastChange(i.matches)}),t.matches&&this.handleHighContrastChange(!0)}handleHighContrastChange(e){e?(document.body.classList.add("accessibility-high-contrast"),this.announceToScreenReader("High contrast mode detected and applied")):(document.body.classList.remove("accessibility-high-contrast"),this.announceToScreenReader("High contrast mode disabled"))}toggleDarkMode(){this.settings.darkMode=!this.settings.darkMode,localStorage.setItem("accessibility-darkMode",this.settings.darkMode.toString()),this.applyDarkMode(),this.updateDarkModeToggleState(),this.announceToScreenReader(`Switched to ${this.settings.darkMode?"dark":"light"} mode`)}applyDarkMode(){this.settings.darkMode?document.body.classList.add("accessibility-dark-mode"):document.body.classList.remove("accessibility-dark-mode"),this.updateDarkModeToggleState(),window.updateBottomNavDarkModeIcon&&window.updateBottomNavDarkModeIcon()}updateDarkModeToggleState(){const e=document.getElementById("darkMode");e&&(e.checked=this.settings.darkMode)}handleCheckboxChange(e){const t=e.dataset.setting;if(t==="keyboardHelpers"||t==="screenReaderHelpers"){this.settings[t]=e.checked,localStorage.setItem(`accessibility-${t}`,e.checked.toString()),this.applySettings();const i=t==="keyboardHelpers"?"Keyboard helpers":"Screen reader helpers";this.announceToScreenReader(`${i} ${e.checked?"enabled":"disabled"}`)}else t==="darkMode"&&this.toggleDarkMode()}handleKeyDown(e){if(e.key==="t"||e.key==="T"){const t=e.target;["INPUT","TEXTAREA","SELECT"].includes(t.tagName)||(e.preventDefault(),this.togglePlainTextMode())}if(e.key==="d"||e.key==="D"){const t=e.target;["INPUT","TEXTAREA","SELECT"].includes(t.tagName)||(e.preventDefault(),this.toggleDarkMode())}}syncUIWithSettings(){const e=document.getElementById("keyboardHelpers");e&&(e.checked=this.settings.keyboardHelpers);const t=document.getElementById("screenReaderHelpers");t&&(t.checked=this.settings.screenReaderHelpers);const i=document.getElementById("darkMode");i&&(i.checked=this.settings.darkMode),this.plainTextToggle&&this.plainTextToggle.setAttribute("aria-pressed",this.settings.plainTextMode.toString()),this.plainTextCustomization&&(this.plainTextCustomization.style.display=this.settings.plainTextMode?"block":"none");const s=document.getElementById("fontSize");if(s){s.value=this.settings.fontSize.toString();const n=document.getElementById("fontSizeValue");n&&(n.textContent=`${this.settings.fontSize}%`)}const a=document.getElementById("lineSpacing");if(a){a.value=this.settings.lineSpacing.toString();const n=document.getElementById("lineSpacingValue");n&&(n.textContent=`${this.settings.lineSpacing}%`)}const r=document.getElementById("fontFamily");r&&(r.value=this.settings.fontFamily);const d=document.getElementById("fontFamilyGeneral");d&&(d.value=this.settings.fontFamily),this.updateBackgroundColorOptions(),this.updateDarkModeToggleState()}updateBackgroundColorOptions(){const e=document.querySelectorAll('input[name="backgroundColor"]');this.settings.darkMode&&this.addDarkModeBackgroundOptions(),e.forEach(t=>{t.checked=t.value===this.settings.backgroundColor})}addDarkModeBackgroundOptions(){if(document.querySelector('input[value="dark"]'))return;const t=document.querySelector(".color-options");if(!t)return;const i=this.createColorOption("dark","#1a1a1a","Dark"),s=this.createColorOption("gray","#2a2a2a","Gray");t.appendChild(i),t.appendChild(s)}createColorOption(e,t,i){const s=document.createElement("label");s.className="color-option",s.innerHTML=`
      <input type="radio" name="backgroundColor" value="${e}" data-setting="backgroundColor">
      <span class="color-swatch" style="background: ${t};"></span>
      <span class="color-label">${i}</span>
    `;const a=s.querySelector("input");return a.addEventListener("change",()=>this.handleRadioChange(a)),s}applyPlainTextSettings(){if(!this.settings.plainTextMode)return;let e=document.getElementById("accessibility-plain-text-styles");e||(e=document.createElement("style"),e.id="accessibility-plain-text-styles",document.head.appendChild(e));const t=this.getBackgroundColorsForTheme();e.textContent=`
      .accessibility-plain-text-mode {
        font-size: ${this.settings.fontSize}% !important;
        line-height: ${this.settings.lineSpacing/100} !important;
      }
      
      .accessibility-plain-text-mode * {
        font-size: inherit !important;
        line-height: inherit !important;
      }
      
      ${t}
    `,document.body.classList.remove("font-default","font-atkinson","font-opendyslexic"),document.body.classList.add(`font-${this.settings.fontFamily}`)}applyBackgroundColor(){document.body.classList.remove("bg-white","bg-cream","bg-blue","bg-pink","bg-dark","bg-gray"),this.settings.backgroundColor&&this.settings.backgroundColor!=="default"&&document.body.classList.add(`bg-${this.settings.backgroundColor}`),document.body.classList.remove("font-default","font-atkinson","font-opendyslexic"),document.body.classList.add(`font-${this.settings.fontFamily}`)}getBackgroundColorsForTheme(){return this.settings.darkMode?`
        .accessibility-plain-text-mode.bg-white { 
          background: #1a1a1a !important; 
          color: #e5e5e5 !important; 
        }
        .accessibility-plain-text-mode.bg-cream { 
          background: #2a2520 !important; 
          color: #e5dcc0 !important; 
        }
        .accessibility-plain-text-mode.bg-blue { 
          background: #0d1a2a !important; 
          color: #b3d9ff !important; 
        }
        .accessibility-plain-text-mode.bg-pink { 
          background: #2a1a25 !important; 
          color: #ffb3d9 !important; 
        }
        .accessibility-plain-text-mode.bg-dark { 
          background: #0f0f0f !important; 
          color: #e5e5e5 !important; 
        }
        .accessibility-plain-text-mode.bg-gray { 
          background: #2a2a2a !important; 
          color: #d0d0d0 !important; 
        }
      `:`
        .accessibility-plain-text-mode.bg-white { 
          background: #ffffff !important; 
          color: #000000 !important; 
        }
        .accessibility-plain-text-mode.bg-cream { 
          background: #f5f5dc !important; 
          color: #000000 !important; 
        }
        .accessibility-plain-text-mode.bg-blue { 
          background: #e6f3ff !important; 
          color: #000033 !important; 
        }
        .accessibility-plain-text-mode.bg-pink { 
          background: #ffe6f0 !important; 
          color: #330022 !important; 
        }
      `}applySettings(){this.applyDarkMode(),this.applyBackgroundColor(),this.settings.keyboardHelpers?document.body.classList.add("accessibility-keyboard-helpers"):document.body.classList.remove("accessibility-keyboard-helpers"),this.settings.screenReaderHelpers?document.body.classList.add("accessibility-screen-reader-helpers"):document.body.classList.remove("accessibility-screen-reader-helpers"),this.settings.plainTextMode?(document.body.classList.add("accessibility-plain-text-mode"),this.applyPlainTextSettings()):(document.body.classList.remove("accessibility-plain-text-mode"),this.removePlainTextSettings())}resetAllSettings(){confirm("Are you sure you want to reset all accessibility settings to default?")&&(Object.keys(this.settings).forEach(e=>{localStorage.removeItem(`accessibility-${e}`)}),this.settings={keyboardHelpers:!1,screenReaderHelpers:!1,plainTextMode:!1,darkMode:window.matchMedia("(prefers-color-scheme: dark)").matches,fontSize:100,lineSpacing:160,fontFamily:"default",backgroundColor:"white"},this.syncUIWithSettings(),this.applySettings(),this.announceToScreenReader("All accessibility settings have been reset to default"))}applyPreset(e){let t={};switch(e){case"default":t={keyboardHelpers:!1,screenReaderHelpers:!1,plainTextMode:!1,darkMode:window.matchMedia("(prefers-color-scheme: dark)").matches,fontSize:100,lineSpacing:160,fontFamily:"default",backgroundColor:"white"};break;case"vision":t={keyboardHelpers:!0,screenReaderHelpers:!0,plainTextMode:!0,darkMode:!0,fontSize:150,lineSpacing:200,fontFamily:"atkinson",backgroundColor:"dark"};break;case"motor":t={keyboardHelpers:!0,screenReaderHelpers:!1,plainTextMode:!1,darkMode:this.settings.darkMode,fontSize:125,lineSpacing:180,fontFamily:"default",backgroundColor:this.settings.backgroundColor};break;case"cognitive":t={keyboardHelpers:!0,screenReaderHelpers:!0,plainTextMode:!0,darkMode:this.settings.darkMode,fontSize:125,lineSpacing:200,fontFamily:"default",backgroundColor:"cream"};break;default:return}Object.keys(t).forEach(i=>{this.settings[i]=t[i],localStorage.setItem(`accessibility-${i}`,t[i].toString())}),this.syncUIWithSettings(),this.applySettings(),this.announceToScreenReader(`Applied ${e} accessibility preset`)}shareAccessibilityTips(){const e=`Accessibility Tips for Better Web Browsing:

ðŸ” Use browser zoom: Ctrl/Cmd + Plus/Minus
âŒ¨ï¸ Navigate with Tab key and arrow keys
ðŸŽ§ Try screen readers like NVDA (free) or VoiceOver (Mac)
ðŸŽ¨ Adjust system display settings for high contrast
ðŸ“– Use reader mode in your browser for cleaner text
ðŸŒ™ Toggle dark mode: Press 'D' or use system settings
ðŸ’¬ Look for accessibility options in website settings

Visit our accessibility statement for more information!`;navigator.share?navigator.share({title:"Web Accessibility Tips",text:e}).catch(console.error):navigator.clipboard.writeText(e).then(()=>{alert("Accessibility tips copied to clipboard!")}).catch(()=>{alert("Unable to share tips. Please check our accessibility statement for more information.")})}handleRangeChange(e){const t=e.dataset.setting;if(t==="fontSize"||t==="lineSpacing"){const i=parseInt(e.value);this.settings[t]=i,localStorage.setItem(`accessibility-${t}`,i.toString());const s=document.getElementById(`${t}Value`);s&&(s.textContent=`${i}%`),this.applyPlainTextSettings()}}handleRadioChange(e){const t=e.dataset.setting;t==="backgroundColor"&&e.checked&&(this.settings[t]=e.value,localStorage.setItem(`accessibility-${t}`,e.value),this.applyBackgroundColor(),this.settings.plainTextMode&&this.applyPlainTextSettings(),this.announceToScreenReader(`Background color changed to ${e.value}`))}handleSelectChange(e){const t=e.dataset.setting;t==="fontFamily"&&(this.settings[t]=e.value,localStorage.setItem(`accessibility-${t}`,e.value),this.applyPlainTextSettings(),this.announceToScreenReader(`Font changed to ${e.value==="default"?"default":e.value}`))}handleButtonClick(e){const t=e.dataset.setting;t==="plainTextMode"?this.togglePlainTextMode():t==="darkMode"&&this.toggleDarkMode()}togglePlainTextMode(){this.settings.plainTextMode=!this.settings.plainTextMode,localStorage.setItem("accessibility-plainTextMode",this.settings.plainTextMode.toString()),this.plainTextToggle&&this.plainTextToggle.setAttribute("aria-pressed",this.settings.plainTextMode.toString()),this.plainTextCustomization&&(this.plainTextCustomization.style.display=this.settings.plainTextMode?"block":"none"),this.applySettings(),this.announceToScreenReader(`Plain text mode ${this.settings.plainTextMode?"enabled":"disabled"}`)}removePlainTextSettings(){const e=document.getElementById("accessibility-plain-text-styles");e&&e.remove(),document.body.classList.remove("font-default","font-atkinson","font-opendyslexic"),document.body.classList.remove("bg-white","bg-cream","bg-blue","bg-pink","bg-dark","bg-gray")}announceToScreenReader(e){this.settings.screenReaderHelpers&&this.liveRegion&&(this.liveRegion.textContent=e,setTimeout(()=>{this.liveRegion&&(this.liveRegion.textContent="")},1e3))}}document.addEventListener("DOMContentLoaded",()=>{new c});typeof o<"u"&&o.exports&&(o.exports=c)});export default h();
