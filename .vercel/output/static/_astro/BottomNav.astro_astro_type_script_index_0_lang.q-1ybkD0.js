import{s as v}from"./scrollNavigation.Dy3oB4FV.js";function g(){const s=document.querySelector("[data-settings-tab]"),i=document.querySelector("[data-settings-toggle]"),o=document.querySelector("[data-settings-expanded]");if(!s)return;let n=!1,a=null;const t=()=>{a&&clearTimeout(a),a=setTimeout(()=>{n||(o?.classList.add("exiting"),setTimeout(()=>{o?.classList.remove("show"),o?.classList.remove("exiting")},600))},1800)},e=()=>{a&&(clearTimeout(a),a=null)},c=()=>{n=!n,n?(o?.classList.add("show"),i?.classList.add("active")):(o?.classList.add("exiting"),i?.classList.remove("active"),setTimeout(()=>{o?.classList.remove("show"),o?.classList.remove("exiting")},600))};i?.addEventListener("click",l=>{l.stopPropagation(),c()}),i?.addEventListener("mouseenter",()=>{e(),n||o?.classList.add("show")}),s?.addEventListener("mouseenter",()=>{e()}),s?.addEventListener("mouseleave",()=>{n||t()}),document.addEventListener("click",l=>{n&&!s.contains(l.target)&&(n=!1,o?.classList.remove("show"),i?.classList.remove("active"))});const r=()=>{const l=s.querySelector('[data-action="scroll-top"]'),u=window.scrollY||document.documentElement.scrollTop;if(l){const d=l;u>200?(d.style.opacity="1",d.style.pointerEvents="auto"):(d.style.opacity="0.5",d.style.pointerEvents="none")}lastScrollTop=u};return r(),window.addEventListener("scroll",r,{passive:!0}),{toggleSettings:c,cancelAutoCollapse:e}}function m(){const s=t=>{const e=document.querySelector(`[data-overlay-screen="${t}"]`);if(e){e.classList.add("show"),document.body.style.overflow="hidden";const c=document.querySelector("[data-settings-expanded]"),r=document.querySelector("[data-settings-toggle]");c?.classList.remove("show"),r?.classList.remove("active")}},i=t=>{const e=document.querySelector(`[data-overlay-screen="${t}"]`);e&&(e.classList.remove("show"),document.body.style.overflow="")},o=()=>{document.querySelectorAll(".overlay-screen").forEach(t=>{t.classList.remove("show")}),document.body.style.overflow=""},n=t=>{switch(t){case"home":window.location.href="/";break;case"scroll-top":document.documentElement.scrollTo({top:0,behavior:"smooth"}),window.scrollTo&&window.scrollTo({top:0,behavior:"smooth"});break;case"contact":if(window.openContactPopup){window.openContactPopup();const e=document.querySelector("[data-settings-expanded]"),c=document.querySelector("[data-settings-toggle]");e?.classList.remove("show"),c?.classList.remove("active")}break;case"search":if(window.openSearchPopup){window.openSearchPopup();const e=document.querySelector("[data-settings-expanded]"),c=document.querySelector("[data-settings-toggle]");e?.classList.remove("show"),c?.classList.remove("active")}break}},a=document.querySelector("[data-settings-tab]");return a&&(a.addEventListener("click",t=>{const e=t.target&&t.target.closest("[data-action]");if(!e)return;const c=e.dataset.action;n(c)}),a.addEventListener("keydown",t=>{const e=t.target&&t.target.closest("[data-action]");if(e){if(t.key==="Enter"||t.key===" "){t.preventDefault();const c=e.dataset.action;n(c)}t.key==="Tab"&&(e.style.outline="2px solid #e63961",e.style.outlineOffset="2px",setTimeout(()=>{e.style.outline="",e.style.outlineOffset=""},3e3))}})),document.querySelectorAll("[data-overlay-close]").forEach(t=>{t.addEventListener("click",()=>{const e=t.getAttribute("data-overlay-close");typeof e=="string"&&i(e)})}),document.querySelectorAll("[data-overlay-backdrop]").forEach(t=>{t.addEventListener("click",()=>{const e=t.getAttribute("data-overlay-backdrop");typeof e=="string"&&i(e)})}),document.addEventListener("keydown",t=>{t.key==="Escape"&&o()}),{openOverlay:s,closeOverlay:i,closeAllOverlays:o}}function y(){g(),m()}y();document.addEventListener("DOMContentLoaded",()=>{const s=document.querySelector(".settings-tab"),i=document.querySelector("[data-settings-toggle]");s&&(v.registerNavElement(s,{hideOnScrollDown:!0,showOnScrollUp:!0,onHide:()=>{s.classList.contains("active")&&i?.click()},onShow:()=>{console.log("Bottom navigation shown on scroll up")}}),i?.addEventListener("click",()=>{s.classList.contains("active")?s.classList.remove("nav-force-visible"):(v.pauseScrollHiding(3e3),s.classList.add("nav-force-visible"))}),document.addEventListener("click",o=>{const n=document.querySelector(".settings-expanded"),a=o.target;n&&a&&!s.contains(a)&&s.classList.contains("active")&&s.classList.remove("nav-force-visible")}),s.addEventListener("mouseenter",()=>{s.classList.add("nav-force-visible")}),s.addEventListener("mouseleave",()=>{s.classList.contains("active")||s.classList.remove("nav-force-visible")}))});
