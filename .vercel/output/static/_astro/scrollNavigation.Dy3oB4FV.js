class a{constructor(){this.lastScrollY=window.scrollY,this.ticking=!1,this.scrollThreshold=50,this.isScrollingDown=!1,this.navElements=new Map,this.init()}init(){window.addEventListener("scroll",()=>{this.ticking||(requestAnimationFrame(()=>{this.handleScroll(),this.ticking=!1}),this.ticking=!0)},{passive:!0})}handleScroll(){const i=window.scrollY;if(Math.abs(i-this.lastScrollY)<this.scrollThreshold)return;const s=i>this.lastScrollY;this.isScrollingDown!==s&&(this.isScrollingDown=s,this.updateNavigationVisibility()),this.lastScrollY=i}updateNavigationVisibility(){this.navElements.forEach((i,t)=>{const{hideOnScrollDown:s,showOnScrollUp:n,onHide:l,onShow:o}=i;this.isScrollingDown&&s?(this.hideElement(t),l&&l()):!this.isScrollingDown&&n&&(this.showElement(t),o&&o())})}hideElement(i){i&&(i.classList.contains("nav-tab")||i.classList.contains("top-nav")?i.classList.add("nav-hidden-top"):(i.classList.contains("settings-tab")||i.classList.contains("bottom-nav"))&&i.classList.add("nav-hidden-bottom"),i.setAttribute("aria-hidden","true"))}showElement(i){i&&(i.classList.remove("nav-hidden-top","nav-hidden-bottom"),i.setAttribute("aria-hidden","false"))}registerNavElement(i,t={}){if(!i)return;const s={hideOnScrollDown:!0,showOnScrollUp:!0,onHide:null,onShow:null,...t};this.navElements.set(i,s)}unregisterNavElement(i){this.navElements.delete(i)}pauseScrollHiding(i=3e3){const t=new Map(this.navElements);this.navElements.forEach(s=>{s.hideOnScrollDown=!1}),setTimeout(()=>{t.forEach((s,n)=>{this.navElements.has(n)&&this.navElements.set(n,s)})},i)}showAllNavigation(){this.navElements.forEach((i,t)=>{this.showElement(t)})}getScrollDirection(){return this.isScrollingDown?"down":"up"}}const e=new a;export{e as s};
