var c=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports);var u=c((d,r)=>{class l{constructor(){this.popup=document.getElementById("searchPopup"),this.searchInput=document.getElementById("searchInput"),this.closeBtn=document.getElementById("closeSearchPopup"),this.clearBtn=document.getElementById("clearSearch"),this.categoryBtns=document.querySelectorAll(".category-btn"),this.keywordTags=document.querySelectorAll(".keyword-tag"),this.searchResults=document.getElementById("searchResults"),this.defaultContent=document.getElementById("defaultContent"),this.resultsContainer=document.getElementById("resultsContainer"),this.resultsTitle=document.getElementById("resultsTitle"),this.resultsCount=document.getElementById("resultsCount"),this.currentCategory="all",this.searchTimeout=null,this.sampleData=this.generateSampleData(),this.init()}init(){this.closeBtn?.addEventListener("click",()=>this.closePopup()),this.popup?.addEventListener("click",e=>{e.target===this.popup&&this.closePopup()}),this.searchInput?.addEventListener("input",e=>this.handleSearch(e.target.value)),this.searchInput?.addEventListener("keydown",e=>{e.key==="Enter"&&this.performSearch(e.target.value)}),this.clearBtn?.addEventListener("click",()=>this.clearSearch()),this.categoryBtns.forEach(e=>{e.addEventListener("click",()=>this.selectCategory(e))}),this.keywordTags.forEach(e=>{e.addEventListener("click",()=>this.searchKeyword(e))}),document.addEventListener("keydown",e=>{e.key==="Escape"&&this.isOpen()&&this.closePopup()}),window.openSearchPopup=()=>this.openPopup()}openPopup(){this.popup?.classList.add("show"),document.body.style.overflow="hidden",setTimeout(()=>{this.searchInput?.focus()},100)}closePopup(){this.popup?.classList.remove("show"),document.body.style.overflow="",this.clearSearch()}isOpen(){return this.popup?.classList.contains("show")}selectCategory(e){this.categoryBtns.forEach(s=>s.classList.remove("active")),e.classList.add("active"),this.currentCategory=e.getAttribute("data-category");const t=this.searchInput?.value?.trim();t&&this.performSearch(t)}searchKeyword(e){const t=e.getAttribute("data-keyword");this.searchInput&&(this.searchInput.value=t,this.performSearch(t),this.updateClearButton())}handleSearch(e){this.searchTimeout&&clearTimeout(this.searchTimeout),this.updateClearButton(),this.searchTimeout=setTimeout(()=>{e.trim()?this.performSearch(e.trim()):this.showDefaultContent()},300)}async performSearch(e){if(!e){this.showDefaultContent();return}try{this.showSearchResults([],e,!0);const t=await fetch(`/api/search?q=${encodeURIComponent(e)}&category=${this.currentCategory}&limit=20`),s=await t.json();if(t.ok)if(s.results&&s.results.length>0){this.redirectToResultsPage(e,this.currentCategory);return}else this.showNoResultsInPopup(e);else throw new Error(s.error||"Search failed")}catch(t){console.error("Search error:",t);const s=this.filterResults(e,this.currentCategory);s&&s.length>0?this.redirectToResultsPage(e,this.currentCategory):this.showNoResultsInPopup(e)}}filterResults(e,t){const s=e.toLowerCase().split(" ");return this.sampleData.filter(i=>{if(t!=="all"&&i.category!==t)return!1;const o=[i.title,i.description,i.content,...i.tags].join(" ").toLowerCase();return s.some(n=>o.includes(n))})}showSearchResults(e,t,s=!1,i=null){if(this.defaultContent&&(this.defaultContent.style.display="none"),this.searchResults&&(this.searchResults.style.display="block"),this.resultsTitle&&(this.resultsTitle.textContent=s?`Searching for "${t}"...`:`Results for "${t}"`),this.resultsCount)if(s)this.resultsCount.textContent="Loading...";else{const o=i!==null?i:e.length;this.resultsCount.textContent=`${o} result${o!==1?"s":""}`}s?this.renderLoadingState():this.renderResults(e)}showDefaultContent(){this.defaultContent&&(this.defaultContent.style.display="flex"),this.searchResults&&(this.searchResults.style.display="none")}redirectToResultsPage(e,t="all"){this.closePopup();const s=`/search-results?q=${encodeURIComponent(e)}&category=${encodeURIComponent(t)}`;window.location.href=s}showNoResultsInPopup(e){this.defaultContent&&(this.defaultContent.style.display="none"),this.searchResults&&(this.searchResults.style.display="block"),this.resultsTitle&&(this.resultsTitle.textContent=`Results for "${e}"`),this.resultsCount&&(this.resultsCount.textContent="0 results"),this.resultsContainer&&(this.resultsContainer.innerHTML=`
        <div class="no-results">
          <h3>No results found</h3>
          <p>Try different keywords or check a different category.</p>
          <div class="no-results-suggestions">
            <p><strong>Suggestions:</strong></p>
            <ul>
              <li>Check your spelling</li>
              <li>Try more general keywords</li>
              <li>Use different search terms</li>
              <li>Browse our popular content below</li>
            </ul>
          </div>
        </div>
      `)}renderLoadingState(){this.resultsContainer&&(this.resultsContainer.innerHTML=`
      <div class="loading-state">
        <div class="loading-spinner"></div>
        <p>Searching...</p>
      </div>
    `)}renderResults(e){if(this.resultsContainer){if(e.length===0){this.resultsContainer.innerHTML=`
        <div class="no-results">
          <p>No results found. Try different keywords or check a different category.</p>
        </div>
      `;return}this.resultsContainer.innerHTML=e.map(t=>`
      <a href="${t.url}" class="result-item">
        <h4 class="result-title">${this.highlightSearchTerms(t.title,this.searchInput?.value||"")}</h4>
        <p class="result-description">${this.highlightSearchTerms(t.description,this.searchInput?.value||"")}</p>
        <div class="result-meta">
          <span class="result-category">${this.getCategoryIcon(t.category)} ${t.category}</span>
          <span class="result-date">${t.date}</span>
        </div>
      </a>
    `).join("")}}highlightSearchTerms(e,t){if(!t)return e;const s=t.toLowerCase().split(" ");let i=e;return s.forEach(o=>{if(o.length>2){const n=new RegExp(`\\b(\\w*${o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}\\w*)`,"gi");i=i.replace(n,"<mark>$1</mark>")}}),i}getCategoryIcon(e){return""}clearSearch(){this.searchInput&&(this.searchInput.value=""),this.updateClearButton(),this.showDefaultContent()}updateClearButton(){!this.clearBtn||!this.searchInput||(this.searchInput.value.trim()?this.clearBtn.style.display="flex":this.clearBtn.style.display="none")}generateSampleData(){return[{title:"About Us",description:"Learn about our company mission, values, and the team behind our success.",content:"about company mission values team history",category:"pages",url:"/about",date:"Updated recently",tags:["about","company","mission","team","values"]},{title:"Our Services",description:"Comprehensive overview of the services we offer to help your business grow.",content:"services business solutions consulting development",category:"pages",url:"/services",date:"Updated recently",tags:["services","business","solutions","consulting"]},{title:"Contact Information",description:"Get in touch with us. Find our contact details and office locations.",content:"contact information office locations phone email",category:"pages",url:"/contact",date:"Updated recently",tags:["contact","information","office","phone","email"]},{title:"Portfolio Showcase",description:"Explore our best work and successful project case studies.",content:"portfolio showcase projects case studies work examples",category:"pages",url:"/portfolio",date:"Updated recently",tags:["portfolio","showcase","projects","case studies"]},{title:"Getting Started Guide",description:"Everything you need to know to begin your journey with our platform.",content:"getting started guide tutorial beginner introduction",category:"blog",url:"/blog/getting-started",date:"3 days ago",tags:["getting started","guide","tutorial","beginner"]},{title:"Industry Best Practices",description:"Proven strategies and methodologies for success in your industry.",content:"best practices strategies methodologies industry success",category:"blog",url:"/blog/best-practices",date:"1 week ago",tags:["best practices","strategies","industry","success"]},{title:"Success Story Case Study",description:"Real-world example of how we helped a client achieve outstanding results.",content:"success story case study client results achievement",category:"blog",url:"/blog/case-study",date:"2 weeks ago",tags:["success story","case study","client","results"]},{title:"E-commerce Platform",description:"Modern, scalable e-commerce solution built with cutting-edge technology.",content:"ecommerce platform modern scalable technology solution",category:"projects",url:"/projects/ecommerce-platform",date:"1 week ago",tags:["ecommerce","platform","scalable","technology"]},{title:"Mobile App Development",description:"Cross-platform mobile application with seamless user experience.",content:"mobile app development cross platform user experience",category:"projects",url:"/projects/mobile-app",date:"2 weeks ago",tags:["mobile","app","development","cross platform"]},{title:"Brand Identity Redesign",description:"Complete brand overhaul including logo, guidelines, and marketing materials.",content:"brand identity redesign logo guidelines marketing materials",category:"projects",url:"/projects/brand-redesign",date:"3 weeks ago",tags:["brand","identity","redesign","logo","marketing"]},{title:"Website Optimization",description:"Performance optimization and SEO improvements for better user engagement.",content:"website optimization performance SEO user engagement",category:"projects",url:"/projects/website-optimization",date:"1 month ago",tags:["website","optimization","performance","SEO"]},{title:"Free Design Templates",description:"Collection of high-quality design templates for various business needs.",content:"free design templates business high quality collection",category:"resources",url:"/resources/design-templates",date:"1 week ago",tags:["templates","design","business","free"]},{title:"Business Planning Toolkit",description:"Comprehensive toolkit with templates and guides for business planning.",content:"business planning toolkit templates guides comprehensive",category:"resources",url:"/resources/business-toolkit",date:"2 weeks ago",tags:["business","planning","toolkit","templates","guides"]},{title:"SEO Checklist Guide",description:"Step-by-step checklist to improve your website's search engine optimization.",content:"SEO checklist guide step by step search engine optimization",category:"resources",url:"/resources/seo-checklist",date:"3 weeks ago",tags:["SEO","checklist","guide","search engine","optimization"]},{title:"Social Media Assets",description:"Ready-to-use social media templates and graphics for your campaigns.",content:"social media assets templates graphics campaigns ready to use",category:"resources",url:"/resources/social-media-assets",date:"1 month ago",tags:["social media","assets","templates","graphics","campaigns"]}]}}document.addEventListener("DOMContentLoaded",()=>{new l});typeof r<"u"&&r.exports&&(r.exports=l)});export default u();
