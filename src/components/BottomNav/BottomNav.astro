---
// Bottom Navigation Component - FIXED VERSION
import ContactPopup from './contact-form/Contact-Popup.astro';
---

<!-- Settings Tab -->
<div class="settings-tab" data-settings-tab>
  <!-- Expanded Settings Menu -->
  <div class="settings-expanded" data-settings-expanded>
    <!-- Contact -->
    <button class="settings-item" data-action="contact" aria-label="Contact">
      <svg class="settings-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
        <polyline points="22,6 12,13 2,6"/>
      </svg>
    </button>

    <!-- Home -->
    <button class="settings-item" data-action="home" aria-label="Home">
      <svg class="settings-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
        <polyline points="9,22 9,12 15,12 15,22"/>
      </svg>
    </button>

    <!-- Scroll to Top -->
    <button class="settings-item" data-action="scroll-top" aria-label="Scroll to top">
      <svg class="settings-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <line x1="12" y1="19" x2="12" y2="5"/>
        <polyline points="5,12 12,5 19,12"/>
      </svg>
    </button>

    <!-- Search -->
    <button class="settings-item" data-action="search" aria-label="Search">
      <svg class="settings-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="11" cy="11" r="8"/>
        <path d="21 21l-4.35-4.35"/>
      </svg>
    </button>
  </div>

  <!-- Plus Icon Tab -->
  <button class="settings-toggle" data-settings-toggle aria-label="Navigation Menu">
    <span class="settings-plus">+</span>
  </button>
</div>

<!-- Contact Popup -->
<ContactPopup />

<style>
  @import './navigation/settingsNavStyles.css';
  @import './overlays/overlayStyles.css';
</style>

<script>
  import { initBottomNav } from './navigation/bottomNavInit.js';

  // Initialize bottom nav - scroll behavior handled by unified navigation system
  initBottomNav();
</script>