/* ==========================================================================
   UNIFIED MARGIN SYSTEM v2.0 - Professional spacing across all content types
   Replaces inconsistent margin implementations with standardized system
   ========================================================================== */

/* Design tokens for consistent spacing */
:root {
  /* STANDARDIZED BREAKPOINTS - Fixed inconsistencies */
  --breakpoint-mobile: 768px;    /* Mobile: ≤768px */
  --breakpoint-tablet: 1200px;   /* Tablet: 769px-1200px */
  /* Desktop: >1200px */

  /* SETTINGS TAB CLEARANCE - Consistent across all pages */
  --settings-clearance-desktop: 80px;  /* Desktop nav + settings tab */
  --settings-clearance-tablet: 70px;   /* Tablet settings tab */
  --settings-clearance-mobile: 35px;   /* Mobile settings tab */

  /* CONTENT MARGINS - Professional spacing with settings clearance */
  --content-margin-desktop-left: calc(2rem + var(--settings-clearance-desktop));
  --content-margin-desktop-right: auto;
  --content-margin-tablet-left: 1.5rem;
  --content-margin-tablet-right: var(--settings-clearance-tablet);
  --content-margin-mobile-left: 1rem;
  --content-margin-mobile-right: var(--settings-clearance-mobile);

  /* CONTENT PADDING - Optimized for readability */
  --content-padding-desktop: 2rem 1.5rem;
  --content-padding-tablet: 1.5rem 1.25rem;
  --content-padding-mobile: 1rem 1rem;

  /* MAXIMUM CONTENT WIDTH */
  --content-max-width: 1400px;
  --content-max-width-blog: 1000px; /* Narrower for blog readability */

  /* Z-INDEX SYSTEM */
  --header-z-index: 1100;
  --nav-z-index: 1001;
}

/* ==========================================================================
   CORE CONTAINER SYSTEM
   ========================================================================== */

/* Base container class - applies to all content containers */
.unified-container,
.content-aligned,
.main-content-wrapper,
.ct-container,
section .container,
main .container,
.page-content .container {
  box-sizing: border-box;
  width: 100%;
}

/* ==========================================================================
   DESKTOP LAYOUT (>1200px)
   ========================================================================== */
@media (min-width: 1201px) {
  .unified-container,
  .content-aligned,
  .main-content-wrapper,
  .ct-container,
  section .container,
  main .container,
  .page-content .container {
    max-width: var(--content-max-width);
    margin-left: var(--content-margin-desktop-left);
    margin-right: var(--content-margin-desktop-right);
    padding: var(--content-padding-desktop);
  }

  /* Text content pages (about, services, etc.) */
  .text-content .unified-container,
  .text-content .content-aligned,
  .about-page .container,
  .services-page .container {
    padding: var(--content-padding-desktop);
  }

  /* Card grid pages (projects, assets, etc.) */
  .card-layout .unified-container,
  .projects-section .container,
  .assets-section .container,
  .masonry-grid,
  .projects-grid,
  .services-grid,
  .assets-grid {
    padding: var(--content-padding-desktop);
  }

  /* Blog content - special handling for readability */
  .blog-content .container,
  .blog-body .container {
    max-width: calc(var(--content-max-width) - 200px); /* Narrower for reading */
    padding: var(--content-padding-desktop);
  }
}

/* ==========================================================================
   TABLET LAYOUT (769px - 1200px)
   ========================================================================== */
@media (min-width: 769px) and (max-width: 1200px) {
  .unified-container,
  .content-aligned,
  .main-content-wrapper,
  .ct-container,
  section .container,
  main .container,
  .page-content .container {
    margin-left: var(--content-margin-tablet-left);
    margin-right: var(--content-margin-tablet-right);
    max-width: calc(100% - var(--content-margin-tablet-left) - var(--content-margin-tablet-right));
    padding: var(--content-padding-tablet);
  }

  /* All content types use same spacing on tablet */
  .masonry-grid,
  .projects-grid,
  .services-grid,
  .assets-grid,
  .entries,
  .blog-grid {
    margin-left: 0;
    margin-right: 0;
    padding-left: 0;
    padding-right: 0;
  }
}

/* ==========================================================================
   MOBILE LAYOUT (≤768px) - Standardized mobile breakpoint
   ========================================================================== */
@media (max-width: 768px) {
  .unified-container,
  .content-aligned,
  .main-content-wrapper,
  .ct-container,
  section .container,
  main .container,
  .page-content .container {
    margin-left: var(--content-margin-mobile-left);
    margin-right: var(--content-margin-mobile-right);
    max-width: calc(100vw - var(--content-margin-mobile-left) - var(--content-margin-mobile-right));
    padding: var(--content-padding-mobile);
    width: auto;
    box-sizing: border-box;
  }

  /* Grid layouts get consistent mobile spacing */
  .masonry-grid,
  .projects-grid,
  .services-grid,
  .assets-grid,
  .entries,
  .blog-grid,
  .content-grid {
    margin-left: 0;
    margin-right: 0;
    max-width: 100%;
    padding-left: 0;
    padding-right: 0;
    box-sizing: border-box;
  }

  /* Individual cards get consistent spacing */
  .entry-card,
  .project-card,
  .service-card,
  .asset-card {
    margin-bottom: 1.5rem;
  }

  /* Remove any page-specific mobile overrides */
  .projects-section,
  .services-section,
  .assets-section {
    padding-left: 0 !important;
    padding-right: 0 !important;
  }
}

/* ==========================================================================
   PAGE HEADERS - Consistent across all pages
   ========================================================================== */
.page-header {
  background: var(--color-primary);
  color: var(--brand-background);
  position: sticky;
  top: 0;
  z-index: var(--header-z-index);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  margin-bottom: 0;
}

/* Desktop header */
@media (min-width: 1201px) {
  .page-header {
    padding: 0.75rem 0;
  }

  .page-header-content {
    max-width: var(--content-max-width);
    margin-left: var(--content-margin-desktop-left);
    margin-right: var(--content-margin-desktop-right);
    padding: 0 2rem;
    height: 60px;
    display: flex;
    align-items: center;
  }

  .page-header h1 {
    font-size: clamp(2.5rem, 4vw, 3.5rem);
    font-weight: 200;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin: 0;
    line-height: 1.2;
  }
}

/* Tablet header */
@media (min-width: 769px) and (max-width: 1200px) {
  .page-header {
    padding: 0.5rem 0;
  }

  .page-header-content {
    margin-left: var(--content-margin-tablet-left);
    margin-right: var(--content-margin-tablet-right);
    padding: 0 1.5rem;
    height: 55px;
    display: flex;
    align-items: center;
  }

  .page-header h1 {
    font-size: clamp(2rem, 3.5vw, 2.8rem);
    font-weight: 200;
    text-transform: uppercase;
    letter-spacing: 0.04em;
    margin: 0;
    line-height: 1.2;
  }
}

/* Mobile header */
@media (max-width: 768px) {
  .page-header {
    padding: 0.25rem 0;
  }

  .page-header-content {
    margin-left: var(--content-margin-mobile-left);
    margin-right: var(--content-margin-mobile-right);
    padding: 0 1rem;
    height: 50px;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
  }

  .page-header h1 {
    font-size: 1.35rem;
    font-weight: 200;
    text-transform: uppercase;
    letter-spacing: 0.02em;
    margin: 0;
    line-height: 1.2;
    word-wrap: break-word;
    overflow-wrap: break-word;
    hyphens: auto;
  }
}

/* ==========================================================================
   CONTENT TYPE SPECIFIC ADJUSTMENTS
   ========================================================================== */

/* Blog content - optimized for reading */
.blog-content .unified-container,
.blog-content .content-aligned {
  max-width: 1000px; /* Narrower for better readability */
}

/* Search results - consistent with other card layouts */
.results-page .entries,
.search-results .entries {
  display: grid;
  gap: 1.5rem;
}

@media (min-width: 1201px) {
  .results-page .entries,
  .search-results .entries {
    grid-template-columns: repeat(3, 1fr);
  }
}

@media (min-width: 769px) and (max-width: 1200px) {
  .results-page .entries,
  .search-results .entries {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 768px) {
  .results-page .entries,
  .search-results .entries {
    grid-template-columns: 1fr;
  }
}

/* ==========================================================================
   OVERRIDE UTILITIES - High specificity to override existing styles
   ========================================================================== */

/* Override conflicting page-specific margin rules */
html body main .unified-container,
html body main .content-aligned,
html body main .main-content-wrapper,
html body main .ct-container,
html body main section .container,
html body main .container {
  box-sizing: border-box !important;
}

/* Desktop overrides - ensure consistent desktop spacing */
@media (min-width: 1201px) {
  html body main .unified-container,
  html body main .content-aligned,
  html body main .main-content-wrapper,
  html body main .ct-container,
  html body main section .container,
  html body main .container {
    margin-left: var(--content-margin-desktop-left) !important;
    margin-right: var(--content-margin-desktop-right) !important;
    max-width: var(--content-max-width) !important;
    padding: var(--content-padding-desktop) !important;
  }
}

/* Tablet overrides - standardized tablet breakpoint */
@media (min-width: 769px) and (max-width: 1200px) {
  html body main .unified-container,
  html body main .content-aligned,
  html body main .main-content-wrapper,
  html body main .ct-container,
  html body main section .container,
  html body main .container {
    margin-left: var(--content-margin-tablet-left) !important;
    margin-right: var(--content-margin-tablet-right) !important;
    max-width: calc(100% - var(--content-margin-tablet-left) - var(--content-margin-tablet-right)) !important;
    padding: var(--content-padding-tablet) !important;
  }
}

/* Mobile overrides - standardized mobile breakpoint (≤768px) */
@media (max-width: 768px) {
  html body main .unified-container,
  html body main .content-aligned,
  html body main .main-content-wrapper,
  html body main .ct-container,
  html body main section .container,
  html body main .container {
    margin-left: var(--content-margin-mobile-left) !important;
    margin-right: var(--content-margin-mobile-right) !important;
    max-width: calc(100vw - var(--content-margin-mobile-left) - var(--content-margin-mobile-right)) !important;
    padding: var(--content-padding-mobile) !important;
    width: auto !important;
    box-sizing: border-box !important;
  }

  /* Override page-specific mobile rules that conflict */
  .masonry-grid,
  .projects-grid,
  .services-grid,
  .assets-grid {
    margin-left: 0 !important;
    margin-right: 0 !important;
    max-width: 100% !important;
    padding-left: 0 !important;
    padding-right: 0 !important;
  }
}

/* ==========================================================================
   BREAKPOINT STANDARDIZATION - Remove conflicting 480px breakpoints
   ========================================================================== */

/* Override any conflicting 480px breakpoint rules in favor of 768px standard */
@media (max-width: 480px) {
  /* Inherit all mobile styles from the 768px breakpoint above */
  /* This ensures consistency across all mobile devices */
  .results-nav-tabs,
  .assets-nav-tabs,
  .page-nav-pills {
    /* Use the same mobile styling as 768px breakpoint */
  }
}

/* ==========================================================================
   ACCESSIBILITY & PERFORMANCE
   ========================================================================== */

/* Ensure smooth scrolling with sticky headers */
html {
  scroll-behavior: smooth;
  scroll-padding-top: 80px; /* Account for sticky header */
}

/* Prevent layout shifts */
.unified-container,
.content-aligned,
.main-content-wrapper {
  contain: layout;
}